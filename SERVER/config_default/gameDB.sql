-- gameDB
CREATE TABLE "Emitter" ("Id" INTEGER PRIMARY KEY  NOT NULL ,"Name" TEXT,"Lifetime" FLOAT,"EmittionRate" FLOAT,"RotationSpeed" FLOAT,"MinPos" VARCHAR,"MaxPos" VARCHAR, "ShowParticle" BOOL DEFAULT TRUE, "ParticleId" INTEGER DEFAULT 0, "ShowStreak" BOOL DEFAULT FALSE, "StreakId" INTEGER DEFAULT 0);
CREATE TABLE "Particle" ("Id" INTEGER PRIMARY KEY  NOT NULL ,"Name" TEXT,"MinDir" VARCHAR,"MaxDir" VARCHAR,"MinAxisRotSpeed" INTEGER,"MaxAxisRotSpeed" INTEGER,"MinScale" FLOAT,"MaxScale" FLOAT,"Lifetime" FLOAT,"ImageString" TEXT,"VerticalGravity" FLOAT DEFAULT (0.0) ,"HorizontalGravity" FLOAT DEFAULT (0.0) ,"StartColor" VARCHAR,"EndColor" VARCHAR,"RotationSpeed" FLOAT DEFAULT (0.0) ,"FadeSpeed" FLOAT DEFAULT (0.5) );
CREATE TABLE "ability" ("Id" INTEGER PRIMARY KEY ,"Name" TEXT,"Color" Varchar(15),"ManaCost" integer,"Cooldown" INTEGER,"AoE" VARCHAR,"Damage" INTEGER,"Range" INTEGER,"Instant" INTEGER,"Price" INTEGER,"TargetType" VARCHAR,"TargetSelf" INTEGER,"StatusEffects" VARCHAR,"DamageType" VARCHAR,"WeaponDamageFactor" FLOAT,"ClassLevel" INTEGER DEFAULT (null) ,"ProjectileId" INTEGER,"EquipReq" VARCHAR,"Description" VARCHAR,"GraphicsNr" INTEGER,"SpawnIds" VARCHAR,"Delay" INTEGER,"ClassId" INTEGER,"FamilyId" INTEGER,"AnimationId" INTEGER DEFAULT (0) ,"CastingSpeed" INTEGER DEFAULT (0) ,"ProjectileEffectId" INTEGER DEFAULT (0) , "JobSkillId" INTEGER DEFAULT 0, "BuffOrNot" INTEGER DEFAULT 0);
CREATE TABLE "ability_statuseffect" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "Name" VARCHAR, "StatsModif" VARCHAR DEFAULT None, "Duration" INTEGER DEFAULT 0, "RepeatDamage" INTEGER DEFAULT 0, "RepeatDamageType" VARCHAR DEFAULT None, "Color" VARCHAR DEFAULT '0,0,0', "ClassId" INTEGER DEFAULT 0, "GraphicsNr" INTEGER DEFAULT 0, "AnimationId" INTEGER DEFAULT 0, "Sfx" VARCHAR DEFAULT None);
CREATE TABLE "bad_words" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "Word" VARCHAR, "Replacement" VARCHAR);
CREATE TABLE "bounty_ranks" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "Name" VARCHAR, "Bounty" INTEGER);
CREATE TABLE "bountyhut" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "NpcId" INTEGER);
CREATE TABLE "card" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL , "Type" VARCHAR DEFAULT Creature, "Name" VARCHAR, "ItemId" INTEGER DEFAULT 0, "GraphicsId" INTEGER DEFAULT 0, "Rarity" INTEGER DEFAULT 0);
CREATE TABLE "creature" ("Id" INTEGER PRIMARY KEY  DEFAULT (NULL) ,"Name" Varchar(30) DEFAULT ('') ,"FamilyId" integer DEFAULT (0) ,"WeaponY" integer DEFAULT (0) ,"WeaponX" integer DEFAULT (0) ,"HeadY" integer DEFAULT (0) ,"HeadX" integer DEFAULT (0) ,"Ability3" integer DEFAULT (0) ,"Ability2" integer DEFAULT (0) ,"Ability1" integer DEFAULT (0) ,"SizeW" integer DEFAULT (1) ,"Boss" integer DEFAULT (0) ,"RespawnTime" integer DEFAULT (0) ,"AggroRange" integer DEFAULT (0) ,"STRENGTH" integer DEFAULT (0) ,"INTELLIGENCE" integer DEFAULT (0) ,"AGILITY" integer DEFAULT (0) ,"SPEED" integer DEFAULT (0) ,"ACCURACY" integer DEFAULT (0) ,"EVASION" integer DEFAULT (0) ,"CRITICAL_HIT" integer DEFAULT (0) ,"AttackType" Varchar(20) DEFAULT ('STRIKE') ,"MAX_HEALTH" integer DEFAULT (0) ,"MAX_MANA" integer DEFAULT (0) ,"GiveXP" integer DEFAULT (0) ,"Level" integer DEFAULT (1) ,"OffHandX" integer DEFAULT (0) ,"OffHandY" INTEGER DEFAULT (0) ,"AmuletX" INTEGER DEFAULT (0) ,"AmuletY" INTEGER DEFAULT (0) ,"ArtifactX" INTEGER DEFAULT (0) ,"ArtifactY" INTEGER DEFAULT (0) ,"FIRE_DEF" INTEGER DEFAULT (0) ,"COLD_DEF" INTEGER DEFAULT (0) ,"SHOCK_DEF" INTEGER DEFAULT (0) ,"CHEMS_DEF" INTEGER DEFAULT (0) ,"MIND_DEF" INTEGER DEFAULT (0) ,"ARMOR" INTEGER DEFAULT (0) ,"LootItems" VARCHAR,"LootCopper" INTEGER DEFAULT (0) ,"ClassId" INTEGER DEFAULT (0) ,"SizeH" INTEGER DEFAULT (1) ,"DeathAbility" INTEGER DEFAULT (0) ,"MouthFeatureX" INTEGER DEFAULT (0) ,"MouthFeatureY" INTEGER DEFAULT (0) ,"AccessoriesX" INTEGER DEFAULT (0) ,"AccessoriesY" INTEGER DEFAULT (0) ,"SkinFeatureX" INTEGER DEFAULT (0) ,"SkinFeatureY" INTEGER DEFAULT (0) ,"PlayerCreature" INTEGER DEFAULT (0) ,"MonsterWeaponIds" VARCHAR DEFAULT ('None') ,"MonsterHeadIds" VARCHAR DEFAULT ('None') ,"MonsterOffHandIds" VARCHAR DEFAULT ('None') ,"Ability4" INTEGER DEFAULT (0) ,"Ability5" INTEGER DEFAULT (0) ,"Ability6" INTEGER DEFAULT (0) , "AttackSpeed" INTEGER DEFAULT 100, "MAGIC_DEF" INTEGER DEFAULT 0);
CREATE TABLE "cute_words" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "Word" VARCHAR);
CREATE TABLE "event" ("Id" INTEGER PRIMARY KEY  NOT NULL ,"Image" INTEGER,"Text" VARCHAR, "Sfx" VARCHAR DEFAULT None);
CREATE TABLE "projectile" ("Id" INTEGER PRIMARY KEY  NOT NULL ,"GfxName" VARCHAR,"EmitterId" INTEGER DEFAULT (0) , "HitColor" VARCHAR, "Sfx" VARCHAR DEFAULT None);
CREATE TABLE "treasure_map" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "X" INTEGER, "Y" INTEGER, "Z" INTEGER, "Items" VARCHAR, "Level" INTEGER DEFAULT 1, "MonsterId" INTEGER DEFAULT 0);
CREATE VIEW "monster_level" AS        SELECT Id, Name, Level, MAX_HEALTH, STRENGTH, AGILITY, INTELLIGENCE, GiveXp, RespawnTime, LootCopper FROM creature WHERE PlayerCreature != 1 ORDER BY Level ASC;

-- userDB
CREATE TABLE "bug_report" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL , "Message" TEXT check(typeof("Message") = 'text') , "Date" VARCHAR, "UserId" INTEGER NOT NULL  DEFAULT 0, "Fixed" BOOL NOT NULL  DEFAULT False, "Version" VARCHAR);
CREATE TABLE "plz_request" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL , "Message" TEXT check(typeof("Message") = 'text') , "Date" VARCHAR, "UserId" INTEGER NOT NULL  DEFAULT 0, "Fixed" BOOL NOT NULL  DEFAULT False);
CREATE TABLE "character_kills" ("Id" integer PRIMARY KEY  DEFAULT (NULL) ,"CharacterId" integer,"CreatureId" integer,"Kills" integer);
CREATE TABLE "character_portal" ("Id" integer PRIMARY KEY  DEFAULT (NULL) ,"CharacterId" integer,"HomePortalId" integer,"TargetAreaId" integer,"TargetX" integer,"TargetY" integer);
CREATE TABLE "character_actionbar" ("Id" INTEGER PRIMARY KEY  NOT NULL ,"ActionType" VARCHAR,"ActionId" INTEGER,"CharacterId" INTEGER,"OrderNr" INTEGER);
CREATE TABLE "character_quest" ("Id" INTEGER PRIMARY KEY  NOT NULL ,"QuestId" INTEGER,"CharacterId" INTEGER,"Status" INTEGER);
CREATE TABLE "character_skill" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "CharacterId" INTEGER, "SkillId" INTEGER, "Level" INTEGER, "SP" INTEGER);
CREATE TABLE "character_container" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "CharacterId" INTEGER, "ContainerId" INTEGER);
CREATE TABLE "character_soul" ("Id" INTEGER PRIMARY KEY  NOT NULL ,"CharacterId" INTEGER,"X" INTEGER,"Y" INTEGER,"XP" INTEGER,"Z" INTEGER DEFAULT (0) );
CREATE TABLE "character_crew" ("Id" INTEGER PRIMARY KEY  NOT NULL , "CharacterId" INTEGER, "CrewId" INTEGER, "MemberState" VARCHAR, "Joined" DATETIME);
CREATE TABLE "crew" ("Id" INTEGER PRIMARY KEY  NOT NULL , "Name" VARCHAR, "CreatedDate" DATETIME);
CREATE TABLE "character_key" ("Id" INTEGER PRIMARY KEY  NOT NULL  UNIQUE , "CharacterId" INTEGER NOT NULL  DEFAULT 0, "KeyId" INTEGER NOT NULL  DEFAULT 0);
CREATE TABLE "chat" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "Type" VARCHAR, "FromId" INTEGER, "ToId" INTEGER, "Message" TEXT, "Date" DATETIME);
CREATE TABLE "user_friend" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "UserId" INTEGER, "FriendCharacterId" INTEGER, "Date" DATETIME);
CREATE TABLE "character_skin" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "CharacterId" INTEGER, "ItemId" INTEGER, "SkinType" VARCHAR DEFAULT Item);
CREATE TABLE "bounty" ("Id" INTEGER PRIMARY KEY  NOT NULL ,"AreaCreatureId" INTEGER,"WeaponId" INTEGER,"OffHandId" INTEGER,"HeadId" INTEGER,"AmuletId" INTEGER,"ArtifactId" INTEGER,"MouthFeatureId" INTEGER,"AccessoriesId" INTEGER,"Name" VARCHAR,"Level" INTEGER,"Bounty" INTEGER,"KillerType" VARCHAR,"KillerId" INTEGER,"KilledDate" DATETIME DEFAULT (null) ,"CreatedDate" DATETIME DEFAULT (null) );
CREATE TABLE "user_chest" ("Id" INTEGER PRIMARY KEY  NOT NULL ,"UserId" INTEGER NOT NULL  DEFAULT (0) ,"ItemId" INTEGER NOT NULL  DEFAULT (0) ,"Nr" INTEGER NOT NULL  DEFAULT (0) , "Pos" VARCHAR, "ModifierId" INTEGER NOT NULL  DEFAULT 0, "MagicId" INTEGER NOT NULL  DEFAULT 0);
CREATE TABLE "user_settings" ("UserId" INTEGER PRIMARY KEY  NOT NULL  UNIQUE , "ChestSize" INTEGER NOT NULL  DEFAULT 0, "TicketMorwyn" INTEGER DEFAULT 0, "TicketNorth" INTEGER DEFAULT 0, "SoulStone" INTEGER DEFAULT 0);
CREATE TABLE "character_item" ("Id" integer PRIMARY KEY ,"CharacterId" integer,"ItemId" integer,"Equipped" integer DEFAULT (NULL) ,"InventoryPos" VARCHAR,"Nr" INTEGER DEFAULT (1) ,"ModifierId" INTEGER DEFAULT (0) ,"MagicId" INTEGER DEFAULT (0) );
CREATE TABLE "character_recipe" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "RecipeId" INTEGER, "CharacterId" INTEGER);
CREATE TABLE "character_class" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL , "CharacterId" INTEGER, "ClassId" INTEGER, "ClassLevel" INTEGER, "ClassXP" INTEGER, "Type" INTEGER);
CREATE TABLE "character_ability" ("Id" INTEGER PRIMARY KEY  NOT NULL ,"CharacterId" INTEGER,"AbilityId" INTEGER,"CooldownLeft" INTEGER);
CREATE TABLE user_character (Id INTEGER PRIMARY KEY, UserId integer, CreatureId Integer, Level INTEGER, XP integer, AttackType Varchar(20), HEALTH integer, MANA integer, X INTEGER, Y INTEGER, Z INTEGER, Name VARCHAR, PlayerKiller INTEGER, Bounty INTEGER, CheckpointId INTEGER, CreatedOn DATETIME, ShipId INTEGER, AreaEffectId INTEGER, Deleted VARCHAR, LastOnline DATETIME, MouthFeatureId INTEGER, AccessoriesId INTEGER, SkinFeatureId INTEGER, HeadSkinId INTEGER, WeaponSkinId INTEGER, OffHandSkinId INTEGER, AmuletSkinId INTEGER, ArtifactSkinId INTEGER, AdminLevel INTEGER, Muted VARCHAR, InventorySize INTEGER, TutorialNr INTEGER, BaseClassId INTEGER, "BaseCreatureId" INTEGER DEFAULT 0, "BlueSagaId" INTEGER DEFAULT 0);
CREATE TABLE "character_card" ("Id" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , "CharacterId" INTEGER, "CardId" INTEGER, "DateTime" DATETIME);
